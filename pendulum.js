import{c as G,g as H,d as S,W as q,e as A,h as I,f,b as B}from"./three.module-.js";let m,p,w,d,u,e=Math.PI/2,s=Math.PI/4,n=.5,a=2.5,y=0,E=0;const v=9.8;let r=1,t=1;const i=1,h=1;R();F();document.getElementById("reset-btn").addEventListener("click",()=>{e=Math.PI/2,s=Math.PI/4,n=.5,a=2.5,y=0,E=0,document.getElementById("apply-velocities").addEventListener("click",()=>{const o=parseFloat(document.getElementById("vel1-input").value),l=parseFloat(document.getElementById("vel2-input").value);isNaN(o)||(n=o),isNaN(l)||(a=l),document.getElementById("mass1").addEventListener("input",c=>{r=parseFloat(c.target.value)}),document.getElementById("mass2").addEventListener("input",c=>{t=parseFloat(c.target.value)})})});function R(){m=new G,m.background=new H(15658734),p=new S(75,window.innerWidth/window.innerHeight,.1,100),p.position.z=5,w=new q({canvas:document.getElementById("three-canvas")}),w.setSize(window.innerWidth,window.innerHeight);const o=new A({color:255}),l=new I(.05,.05,i,32);d=new f(l,o),d.geometry.translate(0,-i/2,0),m.add(d);const c=new I(.05,.05,h,32);u=new f(c,o),u.geometry.translate(0,-h/2,0),m.add(u)}function F(){requestAnimationFrame(F);const o=-v*(2*r+t)*Math.sin(e),l=-t*v*Math.sin(e-2*s),c=-2*Math.sin(e-s)*t,L=a*a*h+n*n*i*Math.cos(e-s),P=i*(2*r+t-t*Math.cos(2*e-2*s));y=(o+l+c*L)/P;const b=2*Math.sin(e-s),x=n*n*i*(r+t),z=v*(r+t)*Math.cos(e),N=a*a*h*t*Math.cos(e-s),W=h*(2*r+t-t*Math.cos(2*e-2*s));E=b*(x+z+N)/W;const g=.0167;n+=y*g,a+=E*g,n*=.999999,a*=.999999;const M=5;n=B.clamp(n,-M,M),a=B.clamp(a,-M,M),e+=n*g,s+=a*g;const k=i*Math.sin(e),C=-i*Math.cos(e);d.position.set(0,0,0),d.rotation.z=e,u.position.set(k,C,0),u.rotation.z=s,w.render(m,p)}
