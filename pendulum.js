import{c as A,j as C,d as R,W as U,e as x,k as F,f as b,b as k}from"./three.module-.js";let d,g,y,l,m,f,E,e=Math.PI/2,s=Math.PI/4,o=.5,a=2.5,I=0,B=0;const v=9.8;let r=1,n=1;const i=1,u=1;V();N();document.getElementById("reset-btn").addEventListener("click",()=>{e=Math.PI/2,s=Math.PI/4,o=.5,a=2.5,I=0,B=0});document.getElementById("apply-velocities").addEventListener("click",()=>{const t=parseFloat(document.getElementById("vel1-input").value),c=parseFloat(document.getElementById("vel2-input").value);isNaN(t)||(o=t),isNaN(c)||(a=c)});document.getElementById("mass1").addEventListener("input",t=>{r=parseFloat(t.target.value)});document.getElementById("mass2").addEventListener("input",t=>{n=parseFloat(t.target.value)});function V(){d=new A,d.background=new C(15658734),g=new R(75,window.innerWidth/window.innerHeight,.1,100),g.position.z=5,y=new U({canvas:document.getElementById("three-canvas")}),y.setSize(window.innerWidth,window.innerHeight),f=new x({color:255}),E=new x({color:255});const t=new F(.05,.05,i,32);l=new b(t,f),l.geometry.translate(0,-i/2,0),d.add(l);const c=new F(.05,.05,u,32);m=new b(c,E),m.geometry.translate(0,-u/2,0),d.add(m)}function N(){requestAnimationFrame(N);const t=-v*(2*r+n)*Math.sin(e),c=-n*v*Math.sin(e-2*s),P=-2*Math.sin(e-s)*n,w=a*a*u+o*o*i*Math.cos(e-s),L=i*(2*r+n-n*Math.cos(2*e-2*s));I=(t+c+P*w)/L;const M=2*Math.sin(e-s),S=o*o*i*(r+n),W=v*(r+n)*Math.cos(e),q=a*a*u*n*Math.cos(e-s),H=u*(2*r+n-n*Math.cos(2*e-2*s));B=M*(S+W+q)/H;const h=.0167;o+=I*h,a+=B*h,o*=.999999,a*=.999999;const p=5;o=k.clamp(o,-p,p),a=k.clamp(a,-p,p),e+=o*h,s+=a*h;const j=i*Math.sin(e),G=-i*Math.cos(e);l.position.set(0,0,0),l.rotation.z=e,m.position.set(j,G,0),m.rotation.z=s,z(l,f),z(m,E),y.render(d,g)}function z(t,c){const w=(t.position.clone().project(g).y+1)/2,M=new C().setHSL(w*4%1,.65,.35);c.color.copy(M)}
